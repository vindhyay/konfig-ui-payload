<div
  [ngClass]="{ 'preview-container': true, 'controls-active': showControls }"
  (mouseleave)="toggleControls(false)"
  (mouseover)="toggleControls(true)"
  *ngIf="!hide"
>
  <ul
    *ngIf="
      showEdit &&
      showControls &&
      (item?.metaData?.widgetType == TextInput ||
        item?.metaData?.widgetType == PasswordInput ||
        item?.metaData?.widgetType == SSNInput ||
        item?.metaData?.widgetType == Email ||
        item?.metaData?.widgetType == PhonenumberInput ||
        item?.metaData?.widgetType == TextArea ||
        item?.metaData?.widgetType == Number ||
        item?.metaData?.widgetType == CheckboxGroup ||
        item?.metaData?.widgetType == RadioGroup ||
        item?.metaData?.widgetType == DatePicker ||
        item?.metaData?.widgetType == Dropdown ||
        item?.metaData?.widgetType == Checkbox)
    "
  >
    <li title="Edit field" *ngIf="!editMode" (click)="onEdit($event, item)">
      <i class="pi pi-pencil opt-icon"></i>
    </li>
    <li title="Save field" *ngIf="editMode" (click)="onSave(item)">
      <i class="pi pi-save opt-icon"></i>
    </li>
    <li title="Cancel" *ngIf="editMode" (click)="onCancel()">
      <i class="pi pi-times opt-icon"></i>
    </li>
  </ul>

  <ng-container *ngIf="item?.metaData?.widgetType === ErrorContainer">
    <div class="input-container">
      <div class="error-msg" *ngFor="let value of item?.value?.value">
        <span class="material-icons mr-2"> error </span><span>{{ value }}</span>
      </div>
    </div>
  </ng-container>

  <ng-container *ngIf="isTextInput(item?.metaData?.widgetType)">
    <div class="input-container">
      <finlevit-text
        *ngIf="!item?.metaData?.isFormulaField"
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [leftIcon]="item?.metaData?.leftIcon"
        [rightIcon]="item?.metaData?.rightIcon"
        [error]="item?.error == true"
        [tooltip]="item?.metaData?.tooltip"
        [placeholder]="item?.metaData?.placeholder"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item)"
        [isRequired]="item?.validators?.required"
        [label]="item?.label"
        [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
        [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
        [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
        (onBlur)="optionChange($event, item)"
        [pattern]="item?.validators?.pattern || null"
        [mask] = "item?.metaData?.mask || null"
        [showMaxCharLimit]="item?.validators?.maxLength"
        [maxCharLimit]="item?.validators?.maxLength"
        [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
        [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
        [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
        [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
        [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [errorMsg]="item?.metaData?.errorMessage"
        [showErrorMsg]="item?.metaData?.showErrorMessage"
      ></finlevit-text>
      <finlevit-text
              *ngIf="item?.metaData?.isFormulaField"
              [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
              [leftIcon]="item?.metaData?.leftIcon"
              [rightIcon]="item?.metaData?.rightIcon"
              [error]="item?.error == true"
              [tooltip]="item?.metaData?.tooltip"
              [placeholder]="item?.metaData?.placeholder"
              [ngModel]="calculateFormulaValue(item?.metaData, item?.id)"
              (ngModelChange)="validateField($event, item)"
              [isRequired]="item?.validators?.required"
              [label]="item?.label"
              [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
              [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
              [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
              [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
              [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
              [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
              [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
              [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
              [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
              [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
              [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
              [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
              [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
              [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
              [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
              [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
              [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
              [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
              [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
              [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
              [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
              [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
              [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
              [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
              [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
              [errorMsg]="item?.metaData?.errorMessage"
              (onBlur)="optionChange($event, item)"
              [pattern]="item?.validators?.pattern || null"
              [mask] = "item?.metaData?.mask || null"
              [(ngModel)]="item.value.value"
              [showMaxCharLimit]="item?.validators?.maxLength"
              [maxCharLimit]="item?.validators?.maxLength"
              [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
              [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
              [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
              [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
              [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
              [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
              [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
              [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
              [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
              [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
              [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
              [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
              [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
              [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
              [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
              [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
              [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
              [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
              [showErrorMsg]="item?.metaData?.showErrorMessage"
      ></finlevit-text>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === PasswordInput">
    <div class="input-container">
      <app-password-field
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        (onValueChange)="validateField($event, item)"
        (onBlurChange)="optionChange($event, item)"
        [item]="item"
        [textColor]="item?.metaData?.styleProperties?.properties?.textColor"
        [textHorizontalAlign]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [backgroundColor]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [borderColor]="item?.metaData?.styleProperties?.properties?.borderColor"
        [textFontStyle]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [borderStyle]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [borderRadius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [fontSize]="item?.metaData?.styleProperties?.properties?.fontSize"
        [wordSpacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [letterSpacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [lineSpacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [fontWeight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [fontStyle]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [textDecoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [labelColor]="item?.metaData?.styleProperties?.properties?.labelColor"
        [labelFontStyle]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [labelAlignment]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [adornmentBackgroundColor]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [borderWidth]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [labelFontSize]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [labelWidth]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [borderTopStyle]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [borderTopLeftRadius]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [borderTopColor]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [borderTopWidth]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [borderRightStyle]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [borderTopRightRadius]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [borderRightColor]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [borderRightWidth]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [borderBottomStyle]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [borderBottomRightRadius]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [borderBottomColor]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [borderBottomWidth]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [borderLeftStyle]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [borderBottomLeftRadius]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [borderLeftColor]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [borderLeftWidth]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorder]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
        [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
        [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
        [labelPosition]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [errorMessage]="item?.metaData?.errorMessage"
        [showErrorMessage]="item?.metaData?.showErrorMessage"
      ></app-password-field>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === SSNInput">
    <div class="input-container">
      <app-ssninput-field
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        (onValueChange)="validateField($event, item)"
        (onBlurChange)="optionChange($event, item)"
        [item]="item"
        [textColor]="item?.metaData?.styleProperties?.properties?.textColor"
        [textHorizontalAlign]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [backgroundColor]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [borderColor]="item?.metaData?.styleProperties?.properties?.borderColor"
        [textFontStyle]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [borderStyle]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [borderRadius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [fontSize]="item?.metaData?.styleProperties?.properties?.fontSize"
        [wordSpacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [letterSpacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [lineSpacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [fontWeight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [fontStyle]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [textDecoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [labelColor]="item?.metaData?.styleProperties?.properties?.labelColor"
        [labelFontStyle]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [labelAlignment]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [adornmentBackgroundColor]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [borderWidth]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [labelFontSize]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [labelWidth]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [borderTopStyle]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [borderTopLeftRadius]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [borderTopColor]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [borderTopWidth]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [borderRightStyle]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [borderTopRightRadius]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [borderRightColor]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [borderRightWidth]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [borderBottomStyle]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [borderBottomRightRadius]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [borderBottomColor]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [borderBottomWidth]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [borderLeftStyle]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [borderBottomLeftRadius]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [borderLeftColor]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [borderLeftWidth]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorder]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
        [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
        [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
        [labelPosition]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [errorMessage]="item?.metaData?.errorMessage"
        [showErrorMessage]="item?.metaData?.showErrorMessage"
      ></app-ssninput-field>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === PhonenumberInput">
    <div class="input-container">
      <app-phonenumber-field
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        (onValueChange)="validateField($event, item)"
        (onBlurChange)="optionChange($event, item)"
        [item]="item"
        [textColor]="item?.metaData?.styleProperties?.properties?.textColor"
        [textHorizontalAlign]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [backgroundColor]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [borderColor]="item?.metaData?.styleProperties?.properties?.borderColor"
        [textFontStyle]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [borderStyle]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [borderRadius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [fontSize]="item?.metaData?.styleProperties?.properties?.fontSize"
        [wordSpacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [letterSpacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [lineSpacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [fontWeight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [fontStyle]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [textDecoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [labelColor]="item?.metaData?.styleProperties?.properties?.labelColor"
        [labelFontStyle]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [labelAlignment]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [adornmentBackgroundColor]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [borderWidth]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [labelFontSize]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [labelWidth]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [borderTopStyle]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [borderTopLeftRadius]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [borderTopColor]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [borderTopWidth]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [borderRightStyle]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [borderTopRightRadius]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [borderRightColor]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [borderRightWidth]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [borderBottomStyle]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [borderBottomRightRadius]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [borderBottomColor]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [borderBottomWidth]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [borderLeftStyle]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [borderBottomLeftRadius]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [borderLeftColor]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [borderLeftWidth]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorder]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
        [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
        [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
        [labelPosition]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [errorMessage]="item?.metaData?.errorMessage"
        [showErrorMessage]="item?.metaData?.showErrorMessage"
      ></app-phonenumber-field>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === TextArea">
    <div class="input-container">
      <finlevit-lib-textarea
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [rows]="item?.metaData?.rowsCount"
        [error]="item?.error == true"
        [tooltip]="item?.metaData?.tooltip"
        [placeholder]="item?.metaData?.placeholder"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item)"
        [isRequired]="item?.validators?.required"
        [label]="item?.label"
        [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [errorMsg]="item?.metaData?.errorMessage"
        [showCharCount]="item?.metaData?.styleProperties?.properties?.showCharCount"
        [autoResize]="item?.metaData?.autoResize"
        [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
        [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
        [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
        [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
        [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [showErrorMsg]="item?.metaData?.showErrorMessage"
      ></finlevit-lib-textarea>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Number">
    <div class="input-container">
      <finlevit-number *ngIf="!item?.metaData?.isFormulaField"
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [placeholder]="item?.metaData?.placeholder"
        [tooltip]="item?.metaData?.tooltip"
        [error]="item?.error == true"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item)"
        [label]="item?.label"
        [isRequired]="item?.validators?.required"
        [format]="item?.metaData?.format"
        (onBlur)="optionChange($event, item)"
                       [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
                       [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
                       [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
                       [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
                       [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
                       [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
                       [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
                       [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
                       [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
                       [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
                       [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
                       [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
                       [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
                       [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
                       [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
                       [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
                       [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
                       [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
                       [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
                       [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
                       [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
                       [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
                       [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
                       [errorMsg]="item?.metaData?.errorMessage"
                       [showErrorMsg]="item?.metaData?.showErrorMessage"
                       [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
                       [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
                       [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
                       [step]="item?.metaData?.styleProperties?.properties?.step"
                       [showButtons]="item?.metaData?.styleProperties?.properties?.showStepper"
                       [mode]="item?.metaData?.mode"
                       [currency]="item?.metaData?.currency"
                       [minFractionDigits]="item?.metaData?.minFractionDigits"
                       [maxFractionDigits]="item?.metaData?.maxFractionDigits"
                       [maxLength]="item?.validators?.maxLength"
                       [showMaxCharLimit]="item?.validators?.maxLength"
                       [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
                       [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
                       [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
                       [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
                       [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
                       [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
                       [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
                       [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
                       [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
                       [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
                       [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
                       [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
                       [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
                       [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
                       [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
                       [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
                       [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
      ></finlevit-number>
      <finlevit-number *ngIf="item?.metaData?.isFormulaField"
                       [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
                       [placeholder]="item?.metaData?.placeholder"
                       [tooltip]="item?.metaData?.tooltip"
                       [error]="item?.error == true"
                       [ngModel]="calculateFormulaValue(item?.metaData, item?.id)"
                       (ngModelChange)="validateField($event, item)"
                       [label]="item?.label"
                       [isRequired]="item?.validators?.required"
                       [format]="item?.metaData?.format"
                       (onBlur)="optionChange($event, item)"
                       [currency]="item?.metaData?.currency"
                       [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
                       [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
                       [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
                       [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
                       [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
                       [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
                       [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
                       [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
                       [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
                       [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
                       [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
                       [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
                       [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
                       [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
                       [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
                       [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
                       [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
                       [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
                       [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
                       [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
                       [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
                       [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
                       [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
                       [errorMsg]="item?.metaData?.errorMessage"
                       [showErrorMsg]="item?.metaData?.showErrorMessage"
                       [prefixText]="item?.metaData?.styleProperties?.properties?.prefixText"
                       [suffixText]="item?.metaData?.styleProperties?.properties?.suffixText"
                       [showClearButton]="item?.metaData?.styleProperties?.properties?.showClearButton"
                       [step]="item?.metaData?.styleProperties?.properties?.step"
                       [showButtons]="item?.metaData?.styleProperties?.properties?.showStepper"
                       [minFractionDigits]="item?.metaData?.minFractionDigits"
                       [maxFractionDigits]="item?.metaData?.maxFractionDigits"
                       [maxLength]="item?.validators?.maxLength"
                       [showMaxCharLimit]="item?.validators?.maxLength"
                       [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
                       [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
                       [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
                       [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
                       [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
                       [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
                       [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
                       [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
                       [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
                       [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
                       [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
                       [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
                       [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
                       [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
                       [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
                       [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
                       [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
      ></finlevit-number>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Text">
    <app-text-field *ngIf="item?.metaData?.advanced" [item]="item"></app-text-field>
    <div
      *ngIf="!item?.metaData?.advanced"
      [class]="'text-content text-style-' + item?.metaData?.textStyle"
      [ngStyle]="{
        'justify-content': item?.metaData?.horizontalAlign,
        'align-items': item?.metaData?.verticalAlign,
        'text-align': item?.metaData?.horizontalAlign,
        color: item?.metaData?.color,
        'font-weight': item?.metaData?.fontWeight
      }"
    >
      {{ item?.value?.value || item?.metaData?._value }}
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Button">
    <div class="input-container button-input" [ngStyle]="{ width: '100%' }">
      <finlevit-button
        [isDisabled]="item?.metaData?.isEnable === false || disable"
        [icon]="item?.metaData?.icon"
        [iconPos]="item?.metaData?.iconPos"
        [color]="item?.metaData?.color"
        [bgColor]="item?.metaData?.bgColor"
        [label]="item?.label"
        (btnClick)="btnClick($event, item)"
        [variant]="item?.metaData?.variant"
        [type]="item?.metaData?.type"
      ></finlevit-button>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === CollapseContainer">
    <app-collapse-container
      [item]="item"
      [showEdit]="showEdit"
      [viewMode]="viewMode"
      [isDisabled]="disable"
      [editMode]="editMode"
    ></app-collapse-container>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Upload">
    <div class="input-container button-input">
      <app-upload [item]="item" [viewMode]="viewMode" [editMode]="editMode" [isDisabled]="disable"></app-upload>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Image">
    <div class="image-container">
      <img [src]="item?.metaData?.url" />
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Table">
    <div
      [ngClass]="{
        'input-container': true,
        'paginated-table-container': item?.metaData?.pagination,
        'no-data-table': item?.metaData?.configure ? !item?.metaData?.options?.length : !item?.value?.value?.length
      }"
    >
      <finlevit-table
        class="table-container"
        noDataMessage="No Data Found"
        [headerColor]="item?.metaData?.color"
        [headerBgColor]="item?.metaData?.bgColor"
        [pagination]="item?.metaData?.pagination"
        [addRows]="item?.metaData?.addRows"
        [sort]="item?.metaData?.sort"
        [filter]="item?.metaData?.filter"
        [tableData]="
          item?.value?.value?.length
            ? item?.value?.value
            : item?.metaData?.configure
            ? item?.metaData?.options
            : item?.value?.value || []
        "
        [tableHeading]="item?.metaData?.heading"
        [columns]="item?.metaData?.columns"
        (onColDataChange)="onColDataChange($event)"
        [editRow]="item?.metaData?.actions?.editRow"
        [hideHeader]="item?.metaData?.hideHeader"
        [cellBorder]="item?.metaData?.cellBorder"
        [deleteRow]="item?.metaData?.actions?.deleteRow"
        [actionWidth]="item?.metaData?.actions?.width"
        [actionLabel]="item?.metaData?.actions?.label"
      ></finlevit-table>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === AdvTable">
    <div
      [ngClass]="{
        'input-container': true,
        'paginated-table-container': item?.metaData?.pagination,
        'no-data-table': item?.metaData?.configure ? !item?.metaData?.options?.length : !item?.value?.value?.length
      }"
    >
      <app-adv-table
        class="table-container"
        noDataMessage="User can enter data or auto populate in application"
        [sort]="item?.metaData?.sort"
        [pagination]="item?.metaData?.pagination"
        [filter]="item?.metaData?.filter"
        [headerColor]="item?.metaData?.color"
        [headerBgColor]="item?.metaData?.bgColor"
        [tableHeading]="item?.metaData?.heading"
        [columns]="item?.metaData?.columns"
        [addRows]="item?.metaData?.addRows"
        [hideHeader]="item?.metaData?.hideHeader"
        [cellBorder]="item?.metaData?.cellBorder"
        [editRow]="item?.metaData?.actions?.editRow"
        [deleteRow]="item?.metaData?.actions?.deleteRow"
        [actionCol]="item?.metaData?.actions"
        [tableData]="item?.children"
        [showEdit]="showEdit"
        [viewMode]="viewMode"
        [isDisabled]="disable"
        [editMode]="editMode"
        (onBtnClick)="onBtnClick.emit($event)"
        (onTableDataChange)="onTableDataChange.emit($event)"
        (onOptionChange)="optionChange($event, $event.data)"
      ></app-adv-table>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === TransactionTable">
    <app-transaction-table [item]="item" [viewMode]="viewMode" [editMode]="editMode"></app-transaction-table>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Checkbox">
    <div class="input-container">
      <finlevit-lib-checkbox
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [errorMsg]="item?.errorMsg"
        [error]="item?.error == true"
        [isRequired]="item?.validators?.required"
        [label]="item?.label"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item); onChange($event)"
      ></finlevit-lib-checkbox>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === CheckboxGroup">
    <div class="input-container">
      <app-checkbox-group
        [item]="item"
        [viewMode]="true"
        [editMode]="editMode"
        [dataListId]="item?.metaData?.datalistId"
        [isDisabled]="disable"
      ></app-checkbox-group>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Dropdown">
    <div class="input-container">
      <app-dropdown-field
        [item]="item"
        [viewMode]="viewMode"
        [isDisabled]="disable"
        [editMode]="editMode"
        (optionChange)="optionChange($event, item); validateField($event, item); onChange($event)"
        [textColor]="item?.metaData?.styleProperties?.properties?.textColor"
        [textHorizontalAlign]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [backgroundColor]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [borderColor]="item?.metaData?.styleProperties?.properties?.borderColor"
        [textFontFamily]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [borderStyle]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [borderRadius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [fontSize]="item?.metaData?.styleProperties?.properties?.fontSize"
        [wordSpacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [letterSpacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [lineSpacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [fontWeight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [fontStyle]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [textDecoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [labelColor]="item?.metaData?.styleProperties?.properties?.labelColor"
        [labelFontFamily]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [labelHorizontalAlign]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [adornmentBackgroundColor]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [borderWidth]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [labelFontSize]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [labelWidth]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [borderTopStyle]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [borderTopLeftRadius]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [borderTopColor]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [borderTopWidth]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [borderRightStyle]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [borderTopRightRadius]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [borderRightColor]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [borderRightWidth]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [borderBottomStyle]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [borderBottomRightRadius]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [borderBottomColor]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [borderBottomWidth]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [borderLeftStyle]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [borderBottomLeftRadius]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [borderLeftColor]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [borderLeftWidth]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorder]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
        [errorMessage]="item?.metaData?.errorMessage"
        [showErrorMessage]="item?.metaData?.showErrorMessage"
      ></app-dropdown-field>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Modal">
    <div class="input-container">
      <app-modal
        [item]="item"
        [showEdit]="showEdit"
        [viewMode]="viewMode"
        [isDisabled]="disable"
        [editMode]="editMode"
        (onBtnClick)="onBtnClick.emit($event)"
        (onTableDataChange)="onTableDataChange.emit($event)"
        (onOptionChange)="optionChange($event, $event.data)"
      ></app-modal>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === RadioGroup">
    <div class="input-container">
      <finlevit-radio-group
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [isRequired]="item?.validators?.required"
        [items]="item?.metaData?.options"
        [label]="item?.label"
        [optionLabel]="item?.metaData?.isLabelAndValue ? item?.metaData?.optionLabel : ''"
        [optionValue]="item?.metaData?.isLabelAndValue ? item?.metaData?.optionValue : ''"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item); onChange($event)"
        [errorMsg]="item?.errorMsg"
        [error]="item?.error == true"
        [alignOptions]="item?.metaData?.alignOptions"
      ></finlevit-radio-group>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === DatePicker">
    <div class="input-container">
      <finlevit-lib-datepicker
        [isDisabled]="(viewMode && (!item?.validators?.editable || !editMode)) || disable"
        [label]="item?.label"
        [errorMsg]="item?.errorMsg"
        [error]="item?.error == true"
        [isRequired]="item?.validators?.required"
        [tooltip]="item?.metaData?.tooltip"
        [placeholder]="item?.metaData?.placeholder"
        [viewDateFormat]="item?.metaData?.viewDateFormat"
        [returnDateFormat]="item?.metaData?.returnDateFormat"
        [minDate]="item?.validators?.minDate"
        [maxDate]="item?.validators?.maxDate"
        [(ngModel)]="item.value.value"
        (ngModelChange)="validateField($event, item)"
        [yearNavigator]="true"
        [monthNavigator]="true"
        [style.--input-color]="item?.metaData?.styleProperties?.properties?.textColor"
        [style.--input-text-align]="item?.metaData?.styleProperties?.properties?.textHorizontalAlign"
        [style.--input-background-color]="item?.metaData?.styleProperties?.properties?.backgroundColor"
        [style.--input-border-color]="item?.metaData?.styleProperties?.properties?.borderColor"
        [style.--input-font-family]="item?.metaData?.styleProperties?.properties?.textFontStyle"
        [style.--input-border]="item?.metaData?.styleProperties?.properties?.borderStyle"
        [style.--input-border-radius]="item?.metaData?.styleProperties?.properties?.borderRadius"
        [style.--input-font-size]="item?.metaData?.styleProperties?.properties?.fontSize"
        [style.--input-word-spacing]="item?.metaData?.styleProperties?.properties?.wordSpacing"
        [style.--input-letter-spacing]="item?.metaData?.styleProperties?.properties?.letterSpacing"
        [style.--input-line-spacing]="item?.metaData?.styleProperties?.properties?.lineSpacing"
        [style.--input-font-weight]="item?.metaData?.styleProperties?.properties?.fontWeight"
        [style.--input-font-style]="item?.metaData?.styleProperties?.properties?.fontStyle"
        [style.--input-text-decoration]="item?.metaData?.styleProperties?.properties?.textDecoration"
        [style.--input-label-color]="item?.metaData?.styleProperties?.properties?.labelColor"
        [style.--input-label-font-family]="item?.metaData?.styleProperties?.properties?.labelFontStyle"
        [style.--input-label-align]="item?.metaData?.styleProperties?.properties?.labelAlignment"
        [labelPos]="item?.metaData?.styleProperties?.properties?.labelPosition"
        [showErrorMsg]="item?.metaData?.showErrorMessage"
        [showTime]="item?.metaData?.showTime"
        [hourFormat]="item?.metaData?.hourFormat"
        [stepMinute]="item?.metaData?.stepMinute"
        [stepHour]="item?.metaData?.stepHour"
        [style.--input-adornment-background-color]="item?.metaData?.styleProperties?.properties?.adornmentBackgroundColor"
        [style.--input-border-width]="item?.metaData?.styleProperties?.properties?.borderWidth"
        [style.--input-label-font-size]="item?.metaData?.styleProperties?.properties?.labelFontSize"
        [style.--input-label-width]="item?.metaData?.styleProperties?.properties?.labelWidth + '%'"
        [style.--input-border-top]="item?.metaData?.styleProperties?.properties?.borderTopStyle"
        [style.--input-border-radius-top-left]="item?.metaData?.styleProperties?.properties?.borderTopLeftRadius"
        [style.--input-border-top-color]="item?.metaData?.styleProperties?.properties?.borderTopColor"
        [style.--input-border-top-width]="item?.metaData?.styleProperties?.properties?.borderTopWidth"
        [style.--input-border-right]="item?.metaData?.styleProperties?.properties?.borderRightStyle"
        [style.--input-border-radius-top-right]="item?.metaData?.styleProperties?.properties?.borderTopRightRadius"
        [style.--input-border-right-color]="item?.metaData?.styleProperties?.properties?.borderRightColor"
        [style.--input-border-right-width]="item?.metaData?.styleProperties?.properties?.borderRightWidth"
        [style.--input-border-bottom]="item?.metaData?.styleProperties?.properties?.borderBottomStyle"
        [style.--input-border-radius-bottom-right]="item?.metaData?.styleProperties?.properties?.borderBottomRightRadius"
        [style.--input-border-bottom-color]="item?.metaData?.styleProperties?.properties?.borderBottomColor"
        [style.--input-border-bottom-width]="item?.metaData?.styleProperties?.properties?.borderBottomWidth"
        [style.--input-border-left]="item?.metaData?.styleProperties?.properties?.borderLeftStyle"
        [style.--input-border-radius-bottom-left]="item?.metaData?.styleProperties?.properties?.borderBottomLeftRadius"
        [style.--input-border-left-color]="item?.metaData?.styleProperties?.properties?.borderLeftColor"
        [style.--input-border-left-width]="item?.metaData?.styleProperties?.properties?.borderLeftWidth"
        [independentBorders]="item?.metaData?.styleProperties?.properties?.independentBorder"
        [allowLabelWrapping]="item?.metaData?.styleProperties?.properties?.allowLabelWrapping"
      ></finlevit-lib-datepicker>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === StepperContainer">
    <app-vertical-stepper *ngIf="item?.metaData?.stepperType==='Vertical'" 
      [completedSteps]="completedSteps" 
      [selectedIndex]="verticalStepIndex" 
      [children]="item?.children" 
      [metaData]="item?.metaData"
      [viewMode]="viewMode" 
      (onNext)="onNextClick($event)" 
      (onSelect)="onSelectionClick($event,item.metaData)" 
      (onPrev)="onPrevClick($event)"
      (onBtnClick)="onBtnClick.emit($event)"
      [showEdit]="showEdit"
      [headerContent]= "item?.metaData?.headerContent" 
      >
    </app-vertical-stepper>
    <mat-horizontal-stepper
      *ngIf="item?.metaData?.stepperType!=='Vertical'" 
      [selectedIndex]="selectedStep"
      [ngClass]="{ 'stepper-container': true, 'no-stepper-child-container': item.children.length === 0 }"
      labelPosition="bottom"
      (selectionChange)="OnStepChange($event)"
      #stepper
    >
      <mat-step *ngFor="let child of item.children; let i = index">
        <ng-template matStepLabel
          ><i [class]="child.metaData.icon"></i> <span class="mat-step-label-text">{{ child.label }}</span></ng-template
        >
        <div
          [ngClass]="{
            'nested-grid-container': true,
            'empty-child': !child.children.length
          }"
        >
          <div *ngIf="!child.children.length" class="container-help-text">
            <span>No Data Found</span>
          </div>
          <finlevit-grid
            [viewMode]="viewMode"
            [showEdit]="showEdit"
            [parent]="child"
            [items]="child.children"
            (onBtnClick)="onBtnClick.emit($event)"
            (onTableDataChange)="onTableDataChange.emit($event)"
            (onOptionChange)="optionChange($event, $event.data)"
          ></finlevit-grid>
        </div>
        <div class="stepper-btn-container">
          <div>
            <button *ngIf="i > 0" matStepperPrevious class="step-btn">Previous</button>
          </div>
          <div>
            <button *ngIf="i != item.children.length - 1" class="step-btn" (click)="onNext($event, child, stepper)">
              Next
            </button>
          </div>
        </div>
      </mat-step>
    </mat-horizontal-stepper>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === TabContainer">
    <div class="tab-container">
      <p-tabView [activeIndex]="tabActiveIndex" (onChange)="onTabChange($event)">
        <ng-container *ngFor="let child of item.children; let i = index">
          <p-tabPanel *ngIf="!child?.metaData?.isHidden" [header]="child.label">
            <ng-template pTemplate="header">
              <i [class]="child?.metaData?.icon" class="p-pr-1"></i>
              <span>{{ child.label }}</span>
            </ng-template>
            <div
              [ngClass]="{
              'nested-grid-container': true,
              'empty-child': !child.children.length
            }"
            >
              <div *ngIf="!child.children.length" class="container-help-text">
                <i class="pi pi-plus"></i>
                <span>Drag and drop fields to tab container</span>
              </div>
              <finlevit-grid
                [viewMode]="viewMode"
                [showEdit]="showEdit"
                [parent]="child"
                [items]="child.children"
                (onBtnClick)="onBtnClick.emit($event)"
                (onTableDataChange)="onTableDataChange.emit($event)"
                (onOptionChange)="optionChange($event, $event.data)"
              ></finlevit-grid>
            </div>
          </p-tabPanel>
        </ng-container>
      </p-tabView>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Divider">
    <div class="input-container">
      <app-divider [item]="item"></app-divider>
    </div>
  </ng-container>
  <ng-container *ngIf="item?.metaData?.widgetType === Spacer">
    <div class="input-container">
      <app-spacer [item]="item"></app-spacer>
    </div>
  </ng-container>
  <ng-container
    *ngIf="
      item?.metaData?.widgetType === Container ||
      item?.metaData?.widgetType === Header ||
      item?.metaData?.widgetType === Footer
    "
  >
    <div
      [ngClass]="{
        'nested-grid-container': true,
        'header-container': item?.metaData?.widgetType === Header,
        'footer-container': item?.metaData?.widgetType === Footer
      }"
    >
      <div
        *ngIf="item?.metaData?.title"
        class="container-title"
        [ngStyle]="{
        'background-color': item?.metaData?.header?.bgColor,
        color: item?.metaData?.header?.color,
        'font-size': item?.metaData?.header?.fontSize + 'px',
        height: item?.metaData?.header?.height + 'px'
      }"
      >
        <i
          *ngIf="item?.metaData?.header?.icon"
          [class]="item?.metaData?.header?.icon"
          [ngStyle]="{
          color: item?.metaData?.header?.color,
          'font-size': item?.metaData?.header?.fontSize + 'px',
          'font-weight': 'inherit',
          marginRight: '0.5rem'
        }"
        ></i
        >{{ item?.metaData?.title }}
      </div>
      <finlevit-grid
        [viewMode]="viewMode"
        [showEdit]="showEdit"
        [parent]="item"
        [items]="item.children"
        (onBtnClick)="onBtnClick.emit($event)"
        (onTableDataChange)="onTableDataChange.emit($event)"
        (onOptionChange)="optionChange($event, $event.data)"
      ></finlevit-grid>
    </div>
  </ng-container>
</div>

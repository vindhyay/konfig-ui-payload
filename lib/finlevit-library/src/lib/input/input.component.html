<div
  [ngClass]="{
    field: true
  }"
>
  <div
    [ngClass]="{
      'label-top': labelPos === labelPosTypes.Top,
      'label-left': labelPos === labelPosTypes.Left,
      'label-down': labelPos === labelPosTypes.Down,
      'label-right': labelPos === labelPosTypes.Right
    }"
  >
    <div *ngIf="label" class="d-flex flex-row lib-label-container">
      <div
        [ngClass]="{
          'input-label': true,
          'input-label-sm': isSmall,
          'input-label-lg': isLarge,
          label: true,
          'overflow-hide': !allowLabelWrapping
        }"
      >
        {{ label }}<span class="required" *ngIf="isRequired"> *</span>
        <em class="label-tooltip pi pi-info-circle p-pl-2" [pTooltip]="tooltip" *ngIf="tooltip"></em>
      </div>
    </div>
    <div
      [ngClass]="{
        'border-error': checkError(),
        'extended-input-1': !independentBorders,
        'extended-input-2': independentBorders,
        'd-flex flex-row': prefixText || suffixText || showClearButton
      }"
    >
      <div class="prefix-text" *ngIf="prefixText">
        {{ prefixText }}
      </div>
      <div [ngClass]="{ 'lib-input-container': true, 'no-label-input-container': !label }">
        <span [ngClass]="{ 'p-input-icon-right': rightIcon, 'p-input-icon-left': leftIcon }">
          <i *ngIf="leftIcon" [class]="leftIcon"></i>
          <i *ngIf="rightIcon" [class]="rightIcon" (click)="onRIconClick()"></i>
          <input
            pInputText
            [type]="type"
            [placeholder]="_placeholder"
            [disabled]="isDisabled"
            [ngClass]="{ 'p-inputtext-sm': isSmall, 'p-inputtext-lg': isLarge, 'p-inputtext': true }"
            [required]="isRequired"
            [value]="_value"
            (input)="onLocalChange($event)"
            (focus)="onLocalFocus($event)"
            (blur)="onLocalTouched($event)"
            [attr.maxlength]="maxCharLimit"
            [pattern]="pattern || null"
            *ngIf="!mask"
          />
          <input
            pInputText
            [type]="type"
            [placeholder]="_placeholder"
            [disabled]="isDisabled"
            [ngClass]="{ 'p-inputtext-sm': isSmall, 'p-inputtext-lg': isLarge, 'ng-invalid ng-dirty': checkError() }"
            [required]="isRequired"
            [value]="_value"
            (input)="onLocalChange($event)"
            (focus)="onLocalFocus($event)"
            (blur)="onLocalTouched($event)"
            [attr.maxlength]="maxCharLimit"
            [pattern]="pattern || null"
            *ngIf="mask"
            [mask]="mask"
            [hiddenInput]="hiddenInput"
          />
        </span>
      </div>
      <div *ngIf="showClearButton">
        <em class="pi pi-times-circle clear-icon" (click)="clearValue()"></em>
      </div>
      <div class="suffix-text" *ngIf="suffixText">
        {{ suffixText }}
      </div>
    </div>
  </div>
  <div *ngIf="showMaxCharLimit && maxCharLimit && _value" class="p-d-flex p-justify-end">
    <small class="p-text-secondary p-pt-1">
      Characters left {{ this._value ? this.maxCharLimit - STRING(this._value).length : null }}
    </small>
  </div>
  <div *ngIf="checkError() && showErrorMsg">
    <small class="validation-message">{{ errorMsg || getErrorMessages()[0] }}</small>
  </div>
</div>
